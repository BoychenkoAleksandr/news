## Инструкция для запуска приложения
1. Все настройки проекта лежат в application.yml.
2. Для работы с базой данной был подключён flyway и написаны 4 скрипта для тестового режима с созданием и заполнением таблиц и 1 скрипт для прода с созданием таблиц.
3. Запустить TestTaskApplication.java в режиме prod или test. Если запуск в режиме test то БД будет доступна по ссылке http://localhost:8080/h2-console
4. Проект готов к работе.
## Инструкция для тестирования
### 1. Аутентификация и регистрация (/api/auth)

#### Регистрация нового пользователя
Метод: POST  
Эндпоинт: /api/auth/register  
Доступ: Публичный  
Описание: Создает нового пользователя в системе  
Параметры запроса:  
  - username (логин)  
  - name (имя)  
  - surname (фамилия)  
  - parentName (отчество)  
  - role (роль: ROLE_SUBSCRIBER, ROLE_JOURNALIST или ROLE_ADMIN)  
  
#### Вход в систему
Метод: POST  
Эндпоинт: /api/auth/login  
Доступ: Публичный  
Описание: Аутентифицирует пользователя и возвращает JWT-токен  
Параметры запроса:  
  - username (логин)  
  - password (пароль)

### 2. Управление новостями (/api/news)

#### Получить новость по ID  
Метод: GET  
Эндпоинт: /api/news/{id}  
Доступ: Публичный  
Описание: Возвращает детальную информацию о новости  
Получить все новости
Метод: GET  
Эндпоинт: /api/news/getAllNews  
Доступ: Публичный  
Параметры:  
 - page (номер страницы, по умолчанию 0)
 - size (размер страницы, по умолчанию 10)

#### Поиск новостей
Метод: GET  
Эндпоинт: /api/news/findNewsByTitleTextLike  
Доступ: Публичный  
Параметры:  
- title (часть заголовка)  
- text (часть текста)
- page (номер страницы)
- size (размер страницы)

#### Создать новость
Метод: POST  
Эндпоинт: /api/news  
Доступ: Журналист (ROLE_JOURNALIST), Администратор (ROLE_ADMIN)  
Описание: Создает новую новость  
Параметры запроса:  
- title (заголовок)
- text (текст новости)

#### Обновить новость
Метод: PUT  
Эндпоинт: /api/news/{id}  
Доступ: Журналист (только свои новости), Администратор (все новости)  
Описание: Обновляет существующую новость  

#### Удалить новость
Метод: DELETE  
Эндпоинт: /api/news/{id}  
Доступ: Журналист (только свои новости), Администратор (все новости)  
Описание: Удаляет новость

### 3. Управление комментариями (/api/comments)

#### Получить комментарий по ID
Метод: GET  
Эндпоинт: /api/comments/{id}  
Доступ: Публичный  
Описание: Возвращает детальную информацию о комментарии  

#### Получить все комментарии к новости
Метод: GET  
Эндпоинт: /api/comments/getAllCommentsByNewsId/{newsId}  
Доступ: Публичный  
Параметры:
- page (номер страницы)
- size (размер страницы)

#### Создать комментарий
Метод: POST  
Эндпоинт: /api/comments  
Доступ: Подписчик (ROLE_SUBSCRIBER), Администратор (ROLE_ADMIN)  
Описание: Добавляет новый комментарий к новости  
Параметры запроса:
- text (текст комментария)
- newsId (ID новости)

#### Обновить комментарий
Метод: PUT  
Эндпоинт: /api/comments/{id}  
Доступ: Подписчик (только свои комментарии), Администратор (все комментарии)  
Описание: Редактирует существующий комментарий  

#### Удалить комментарий
Метод: DELETE  
Эндпоинт: /api/comments/{id}  
Доступ: Подписчик (только свои комментарии), Администратор (все комментарии)  
Описание: Удаляет комментарий

